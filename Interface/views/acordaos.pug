extends layout

block content
    div(style="display:block; content:''; height: 60px;")
    // Navbar
    nav.navbar.navbar-expand-lg.navbar-light.bg-light.py-3.shadow.fixed-top
        .container
            a.navbar-brand(href='/') Acordãos

            button.navbar-toggler(type='button' data-bs-toggle='collapse' data-bs-target='#navmenu')
                span.navbar-toggler-icon

            .navbar-collapse.collapse#navmenu
                ul.navbar-nav.ms-auto
                    li 
                        a.nav-item.nav-link(href='/novoDocumento') Inserir Documentos
                    li
                        a.nav-item.nav-link(href='/pesquisas') Pesquisas
                    if user 
                        li
                            a.nav-item.nav-link(href='/users/' + user.id) Perfil
                    else
                        li 
                            a.nav-item.nav-link(href='/users/login') Iniciar Sessão

    .container.py-4 
        h2 Lista de Acordãos
        table.table.table-striped.table-hover
            thead 
                th Processo 
                th Url 
                th Tribunal 
                th Relator 
                th Descritores 
                th Data 
            tbody 
                each acordao in lacordaos
                    tr 
                        td
                            a(href='/'+acordao['_id']) #{'/'+acordao['Processo']}
                        td
                            a(href='http://www.dgsi.pt' + acordao["url"]) Link
                        td= acordao["tribunal"]
                        td= acordao["Relator"]
                        td
                            if acordao["Descritores"] 
                                ul  
                                    each descritor in acordao["Descritores"]
                                        li= descritor
                        td= acordao["Data do Acordão"]
    .container.py-4.d-flex.justify-content-center 
        nav
            ul.pagination
                if previous
                    li.page-item
                        if url === '/acordaos'
                            a.page-link(href=url +'?page=' + previous.page + '&limit=' + previous.limit) Previous
                        else 
                            a.page-link(href=url +'&page=' + previous.page + '&limit=' + previous.limit) Previous
                if next 
                    li.page-item
                        if url === '/acordaos'
                            a.page-link(href=url+'?page=' + next.page + '&limit=' + next.limit) Next
                        else
                            a.page-link(href=url+'&page=' + next.page + '&limit=' + next.limit) Next
    // Footer              
    footer.p-3.bg-light.text-center.mt-auto.position-relative.shadow
        .container 
            p.lead Copyright &copy; 2023 EngWeb, Acordãos
            a.position-absolute.bottom-0.end-0.p-3(href="#")
                i.fa-solid.fa-circle-arrow-up.h3(style="color: grey;")


