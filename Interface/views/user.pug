extends layout 

block content 
    div(style="display:block; content:''; height: 60px;")
    // Modal
    #docModal.modal.fade(tabindex='-1', aria-labelledby='exampleModalLabel', aria-hidden='true')
        .modal-dialog
            .modal-content
                .modal-header
                    h1#exampleModalLabel.modal-title.fs-5 Insira Documento
                    button.btn-close(type='button', data-bs-dismiss='modal', aria-label='Close')
                form(action='/files' method="POST" enctype="multipart/form-data")
                    .modal-body
                        input(type="file" name="myFile")
                    .modal-footer
                        button.btn.btn-secondary(type='button', data-bs-dismiss='modal') Fechar
                        button.btn.btn-primary(value='send' type='submit') Submeter Documento
    // Navbar
    nav.navbar.navbar-expand-lg.navbar-light.bg-light.py-3.shadow.fixed-top
        .container
            a.navbar-brand(href='/') Acordãos

            button.navbar-toggler(type='button' data-bs-toggle='collapse' data-bs-target='#navmenu')
                span.navbar-toggler-icon

            .navbar-collapse.collapse#navmenu
                ul.navbar-nav.ms-auto
                    li 
                        // Button trigger modal 
                        a.nav-item.nav-link(type='button', data-bs-toggle='modal', data-bs-target='#docModal') Inserir Documento
                    li
                        a.nav-item.nav-link(href='/pesquisas') Pesquisas
                    if user 
                        li
                            a.nav-item.nav-link(href='/users/' + user.id) Perfil
                    else
                        li 
                            a.nav-item.nav-link(href='/users/login') Iniciar Sessão
                            
    .container.rounded.bg-white.mt-5.mb-5
        .row
            .col-md-4.border-right
                .d-flex.flex-column.align-items-center.text-center.p-3.py-5
                    img.rounded-circle.mt-5(width='150px' src='https://st3.depositphotos.com/15648834/17930/v/600/depositphotos_179308454-stock-illustration-unknown-person-silhouette-glasses-profile.jpg')
                    span.font-weight-bold= user.name + ' ' + (user.surname || '')
                    span.text-black-50= user.email
                    span
                    .mb-3
                    a.btn.btn-primary.w-50(href='/users/history/' + user._id) Histórico
                    .mb-3
                    a.btn.btn-primary.w-50(href='/users/favs/' + user._id) Favoritos
            .col-md-6.border-right
                .p-3.py-5
                    .d-flex.justify-content-between.align-items-center.mb-3
                    h4.text-center Configurações do perfil
                    .mb-3
                    form(action='/' method='POST')
                        .mb-3
                            label.form-label Primeiro Nome
                            input.form-control(type='text' value=user.name placeholder='Primeiro Nome' name='name')
                        .mb-3
                            label.form-label Apelido
                            input.form-control(type='text' value=user.surname placeholder='Apelido' name='surname')
                        .mb-3
                            label.form-label Username
                            input.form-control(type='text' value=user.username placeholder='Username' name='username' disabled)
                        .mb-3
                            label.form-label Email
                            input.form-control(type='text' value=user.email placeholder='Email' name='email')
                        .mb-3
                            label.form-label Função
                            input.form-control(type='text' value=user.level disabled name='level')
                        .mb-3
                            label.form-label Data de Criação da Conta
                            input.form-control(type='text' disabled value=user.dateCreated name='dateCreated')
                        .mb-3
                            label.labels Data do Último Acesso 
                            input.form-control(type='text' disabled value=user.dateLastAccess name='dateLastAccess')
                        .mb-3
                            label.labels ID do Provedor
                            input.form-control(type='text' disabled value=user.providerId name='providerId')
                        .mb-3
                            label.labels Provedor
                            input.form-control(type='text' disabled value=user.provider name='provider')
                        .mb-3
                        button.btn.btn-primary.profile-button(type='submit') Guardar Alterações
    // Footer
    footer.p-3.bg-light.text-center.mt-auto.position-relative.shadow
        .container 
            p.lead Copyright &copy; 2023 EngWeb, Acordãos
            a.position-absolute.bottom-0.end-0.p-3(href="#")
                i.fa-solid.fa-circle-arrow-up.h3(style="color: grey;")